---
---
<section class="bg-white border-2 border-brand rounded-3xl p-6 shadow-md shadow-brand/5 relative overflow-hidden mb-8">
    <div class="absolute top-0 right-0 w-32 h-32 bg-brand/5 rounded-full -mr-16 -mt-16 pointer-events-none"></div>

    <form
        id="quick-client-form"
        class="flex flex-col md:flex-row gap-6 items-end relative z-10"
    >
        <!-- Nombre -->
        <div class="flex-1 w-full">
            <label class="block text-[11px] uppercase font-black text-brand tracking-widest mb-1.5 ml-1">
                Nombre del Cliente
            </label>
            <input
                type="text"
                name="nombre"
                required
                placeholder="Ej: Transportes Logísticos S.A."
                class="w-full bg-brand/5 border-2 border-brand/10 rounded-2xl px-4 py-4
                       text-brand-deep placeholder:text-brand/40 font-bold
                       outline-none focus:border-brand focus:bg-white transition-all"
            />
        </div>

        <!-- Observaciones -->
        <div class="flex-[2] w-full">
            <label class="block text-[11px] uppercase font-black text-brand tracking-widest mb-1.5 ml-1">
                Observaciones
            </label>
            <input
                type="text"
                name="observaciones"
                placeholder="Notas, dirección o contactos…"
                class="w-full bg-brand/5 border-2 border-brand/10 rounded-2xl px-4 py-4
                       text-brand-deep placeholder:text-brand/40 text-sm
                       outline-none focus:border-brand focus:bg-white transition-all"
            />
        </div>

        <!-- Acción -->
        <button
            type="submit"
            class="w-full md:w-auto bg-brand text-white font-black px-10 py-4 rounded-2xl
                   hover:bg-brand-deep hover:shadow-xl hover:shadow-brand/30
                   active:scale-95 transition-all flex items-center gap-3 group"
        >
            <span class="uppercase tracking-tighter">Añadir Cliente</span>
            <span class="text-2xl group-hover:rotate-90 transition-transform">+</span>
        </button>
    </form>
</section>

<script>
    import { actions } from 'astro:actions';

    function initForm() {
        const form = document.getElementById('quick-client-form');
        if (!form) return;

        form.onsubmit = async (e) => {
            e.preventDefault();
            const { error } = await actions.upsertClient(new FormData(form));
            if (!error) window.location.reload();
        };
    }

    initForm();
    document.addEventListener('astro:after-navigation', initForm);
</script>
